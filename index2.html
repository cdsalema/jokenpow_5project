<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Pedra, Papel e Tesoura</title>
    <style>
      body {
        font-family: sans-serif;
        text-align: center;
      }
      
      h1 {
        margin-top: 50px;
      }
      
      .opcoes {
        display: flex;
        justify-content: space-around;
        margin-top: 50px;
      }
      
      .opcoes button {
        font-size: 20px;
        padding: 10px 20px;
        background-color: #f2f2f2;
        border: 1px solid #ccc;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s, color 0.3s;
      }
      
      .opcoes button:hover {
        background-color: #ccc;
        color: #fff;
      }
      
      #placar {
        margin-top: 50px;
        font-size: 24px;
      }
    </style>
  </head>
  <body>
    <h1>Pedra, Papel e Tesoura</h1>
    <div class="opcoes">
      <button id="iniciar">Iniciar Jogo</button>
      <button id="reiniciar" style="display: none;">Reiniciar Jogo</button>
    </div>
    <div id="placar"></div>
    <script>
      const pedra = "pedra";
      const papel = "papel";
      const tesoura = "tesoura";
      const opcoesValidas = [pedra, papel, tesoura];
      
      let escolhaComputador;
      let escolhaUsuario;
      let placarUsuario = 0;
      let placarComputador = 0;
      let numPartidas = 0;
      
      const iniciarBotao = document.getElementById("iniciar");
      const reiniciarBotao = document.getElementById("reiniciar");
      const placarDiv = document.getElementById("placar");
      
      iniciarBotao.addEventListener("click", function() {
        iniciarBotao.style.display = "none";
        reiniciarBotao.style.display = "inline-block";
        jogar();
      });
      
      reiniciarBotao.addEventListener("click", function() {
        numPartidas = 0;
        placarUsuario = 0;
        placarComputador = 0;
        placarDiv.textContent = "";
        jogar();
      });
      
      function jogar() {
        escolhaUsuario = prompt("Escolha pedra, papel ou tesoura:");
        
        if (!opcoesValidas.includes(escolhaUsuario)) {
          alert("Escolha inválida!");
          jogar();
          return;
        }
        
        escolhaComputador = opcoesValidas[Math.floor(Math.random() * 3)];
        
        const resultado = calcularResultado(escolhaUsuario, escolhaComputador);
        
        alert(`Você escolheu ${escolhaUsuario}. O computador escolheu ${escolhaComputador}. ${resultado}`);
        
        numPartidas++;
        placarDiv.textContent = `Partida ${numPartidas}: Você ${placarUsuario} x ${placarComputador} Computador`;
        
    
if (placarUsuario === 3 || placarComputador === 3) {
    alert("Fim do Jogo!");
    reiniciarBotao.style.display = "none";
    iniciarBotao.style.display = "inline-block";
    numPartidas = 0;
    placarUsuario = 0;
    placarComputador = 0;
    placarDiv.textContent = "";
  } else {
    jogar();
  }
}

function calcularResultado(escolhaUsuario, escolhaComputador) {
  if (escolhaUsuario === escolhaComputador) {
    return "Empate!";
  }
  
  if (escolhaUsuario === pedra && escolhaComputador === tesoura ||
      escolhaUsuario === papel && escolhaComputador === pedra ||
      escolhaUsuario === tesoura && escolhaComputador === papel) {
    placarUsuario++;
    return "Você ganhou!";
  }
  
  placarComputador++;
  return "O computador ganhou!";
}
</script>
</body>
</html>